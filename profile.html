<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>TEAM43 Strata Deli</title>
  <meta name="comp1800 boilerplate code" content="my bcit project">
  <meta name="author" content="Kerry, Kris, Tomo">

  <!-- Bootstrap for Mobile-first, and JQuery -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
  <link rel="stylesheet" href="styles/profile.css">


  <!-- Optional styles and scripts of your own -->
  <style>
  </style>

</head>

<body>

  <!-------------------------------------->
  <!-- The following is HTML for layout -->
  <!-------------------------------------->
  <!-- Header Navigation Bar -->
  <header>
    <nav class="navbar navbar-expand-lg navbar-light sticky-top bg-light">
      <div class="container-fluid">
        <a class="navbar-brand" href="index.html">
          <img src="images/stratadeli.png">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
          aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav me-auto mb-2 mb-md-0">
            <!--<li class="nav-item">
          <a class="nav-link active" aria-current="page" href="#">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Link</a>
        </li> -->
          </ul>
          <form class="position-absolute top-50 start-50 translate-middle">
            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
          </form>
          </ul>
          <a href="profile.html">
            <img src="images/profile2.png" width="40px" , height="40px">
          </a>
          <a href="cart.html">
            <img src="images/cart2.png" width="40px" , height="40px">
          </a>
        </div>
      </div>
    </nav>
  </header>
  <br>
  <br>


<div class="container">
    <h1 class="display-4"> Hello, <span id="name-goes-here">wait for the name :)</span> </h1>
</div>

    <img id="userImage" src="" alt="...">


    <div class="card-group">
        <div class="card">
            <div class="card-body">
                <h5 id ="TS" class="card-title">Name</h5>
                <p id="oldpeople">Address</p>
                <p>order history</p>
                <p>settings</p>
            </div>
        </div>
    </div>

  <!-- FOOTER -->
  <div id=footer class="fixed-bottom"> <!-- Change to sticky-bottom when there is enough content-->
    <!--Change to sticky-bottom when we have more content-->
    <footer class="container">
      <br><br><br><br><br>
      <div class="float-end">
        <br><br><br><br><br>
        <a href="https://www.facebook.com/">
          <img src="https://freshprep.imgix.net/footer/fb_icon.png?auto=format" class="socialMediaIcon"></a>
        <a href="https://www.instagram.com/">
          <img src="https://freshprep.imgix.net/footer/ig_icon.png?auto=format" class="socialMediaIcon"></a>
        <a href="https://www.linkedin.com/company/">
          <img src="https://cdn.fastly.picmonkey.com/content4/previews/icons_linkedin/icons_linkedin_17_550.webp"
            class="socialMediaIcon"></a>
        <p>
          <br><br>
          <img src="images/app-store.png" , width="150px" , height="40px">
          <br><br>
          <img src="images/play-store.png" , width="150px" , height="40px">
        </p>
      </div>
      <a class="navbar-brand" href="index.html">
        <img src="images/stratadeliwhite.png">
      </a>
      <div>
        <br>
        <p style="color:grey">&copy; 2021 strataDeli, Inc.</p>
        <br>
        <p><a href="about.html">About Us</a></p>
        <p><a href="/Story">Careers</a></p>
        <p><a href="faq.html">FAQ</a></p>
        <p><a href="/Story">Contact Us</a></p>
        <p><a href="/Story">Terms & Conditions</a></p>
      </div>
    </footer>
  </div>
    <!----------------------------------------------->
    <!-- JS: Boostrap, JQuery, Firebase, API related    -->
    <!----------------------------------------------->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous">
        </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/ui/4.6.1/firebase-ui-auth.js"></script>

    <!-- Link to the api keys for your firebase project -->
    <script src="scripts/firebase_team43.js"></script>


  <!--------------------------------------------------------------------->
  <!-- JS files: Your own JavaScript functions included here    -->
  <!--------------------------------------------------------------------->
  <script src="scripts/my_functions.js"></script>
    <script>
        sayHello();
        function displayCities() {
            db.collection("coverage").get()
            .then(function (snap) {
                snap.forEach(function (doc) {
                    var code = doc.data().code;
                    console.log(code);
                    var name = doc.data().strata;
                    console.log(name);
                    if ((code) === "TS")
                      document.getElementById(code).innerText = name;
                    })

                })
        }
        displayCities();
        
        function displayAddress() {
            db.collection("coverage").get()
            .then(function (snap) {
                snap.forEach(function (doc) {
                    var addressCode = doc.data().ad_code;
                    console.log(addressCode);
                    var address = doc.data().address;
                    console.log(address);
                    if (addressCode=== "oldpeople"){
                      document.getElementById(addressCode).innerText = address;
                    }
                })
            })
        }
        displayAddress();

        setTimeout(
        function displayImage(){
          db.collection("users").get()
          .then(function (snap){
            snap.forEach(function (doc) {
              var namedisplayed = document.getElementById("name-goes-here").innerText;
              var imgNum = doc.data().img;
              console.log(imgNum);
              var user_name = doc.data().name;
              console.log(user_name);
              console.log(namedisplayed);
              if (namedisplayed == user_name){
                document.getElementById('userImage').src = "https://randomuser.me/api/portraits/men/"+imgNum+".jpg";
                console.log("the same");
              }
            })
          })
        }, 3000);

    </script>


</body>

</html>
